# This file contains the global version definition for the AmcPciDev project.

VERSION_EXTRA = -dev
VERSION_MAJOR = 0
VERSION_MINOR = 0
VERSION_PATCH = 0

# Compute the git version string
GIT_VERSION = $(shell \
    cd $(TOP); \
    set -o pipefail; \
    if VERSION=$$(git rev-parse HEAD 2>/dev/null | cut -b -7); then \
        git diff --shortstat --quiet HEAD  ||  VERSION=$$VERSION-dirty; \
    else \
        VERSION=0000000; \
    fi; \
    echo $$VERSION)

# Compute full dotted version name
VERSION = $(VERSION_MAJOR).$(VERSION_MINOR).$(VERSION_PATCH)

# vim: set filetype=make:
